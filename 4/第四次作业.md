第四次作业

### 1

#### (a)

如果已知分类器的灵敏度 \( Se \) 和特异度 \( Sp \)，还需要知道样本总数 \( N \) 以及正类样本的数量 \( P \)（正类样本数），即总共2个变量，就可以确定分类器的分类正确率 \( ACC \)。

分类正确率 \( ACC \) 可以表示为正确分类的样本数与总样本数之比，即：

$$ ACC = \frac{TP + TN}{N} $$

其中 \( TP \) 是正类样本中被正确分类的数量， \( TN \) 是负类样本中被正确分类的数量。

由于 \( Se \) 表示的是分类器对正类的识别能力， \( Sp \) 表示的是分类器对负类的识别能力，因此：

$$Se = \frac{TP}{P} $$
$$ Sp = \frac{TN}{N-P} $$

可以通过上述两个公式解出 \( TP \) 和 \( TN \)：

$$ TP = Se \times P $$
$$ TN = Sp \times (N-P) $$

将 \( TP \) 和 \( TN \) 代入分类正确率的公式中：

$$ ACC = \frac{Se \times P + Sp \times (N-P)}{N} $$

化简得：

$$ ACC = Se \times \frac{P}{N}+Sp \times\frac{N-P}{N}  $$

由于 \( P/N \) 表示正类样本的比例，因此可以记为正类样本的先验概率 \( P(Y=1) \)。 \( 1 - P(Y=1) \) 则表示负类样本的先验概率。

所以，$$Se \times \frac{P}{N} $$ 可以理解为将分类器对正类的识别能力 \( Se \) 与正类样本的先验概率 \( P(Y=1) \) 相乘得到的期望的正类样本识别能力，$$Sp \times\frac{N-P}{N} $$则可以理解为将分类器对负类的识别能力 \( Sp \) 与负类样本的先验概率 \( P(Y=0) \) 相乘得到的期望的负类样本识别能力。

综上所述，由 \( Se \) 和 \( Sp \) 确定 \( ACC \) 的公式为：

$$ ACC = Se \times P(Y=1) + Sp \times P(Y=0) $$

这个公式的意义是：分类正确率 \( ACC \) 可以用分类器对正类和负类的识别能力加权平均来表示，其中权重是各类样本的先验概率。

#### (b)

如已知$$ACC$$ 还需要知道样本总数 \( N \) 以及正类样本的数量 \( P )以及$$Se, Sp$$任一,才能推导出另外一个指标

公式见(a)

#### (c)

$$recall$$=$$Se$$=$$\frac{TP}{TP+FN}$$

$$precision$$=$$\frac{TP}{TP+FP}$$=$$1-\frac{FP}{TP+FP}$$
$$
F_1=\frac{2}{\frac{1}{recall}+\frac{1}{precision}}
$$

#### (d)

$$Se$$:分类器对正类的识别能力

$$Sp$$:分类器对负类的识别能力

$$precision$$:表示分类器的准确性，即分类器正确分类的正类样本占所有分类为正类的样本的比例

### 2

#### (a)

$$FPR=1-Sp=\frac{FP}{FP+TN}=0.1$$

$$FNR=1-Se=\frac{FN}{FN+TP}=0.13$$

$$0.004=\frac{TP+FN}{TP+FN+FP+TN}=阳性人数/总人数$$

$$Sp=0.9,Se=0.87$$

$$ACC=Se\times 0.004+Sp\times0.996=0.89988 $$​

#### (b)

若系统Fake-Intelligence (FI)只会给出乳腺癌“阴性“的结果,那么:

$$Se=0,Sp=1,ACC=0.996$$

#### (c)

直觉上,只给出阴性结果的系统肯定不准确,反而从准确率上看,这样的系统的准确率更高.

#### (d)

只需要计算precision即可:
$$
precision=\frac{TP}{TP+FP}=\frac{0.87}{0.87+0.1}=0.8969
$$


### 3

```python
import matplotlib.pyplot as plt

x1=[0,1,3,5,6]
x2=[1,3,4,5,7]

y1=[0,100,200,100,0]
y2=[0,150,300,150,0]


# 假设x1是正类.x2负类 x<= a 那么归为 正类. a={0,1,3,4,5,6,7}

TPR=[0.2,0.4,0.6,0.6,0.8,1,1]
FPR=[0,0.2,0.4,0.6,0.8,0.8,1]

plt.plot(TPR,FPR,c = 'r')
plt.show()
```

![Figure_1](/Users/wangsiwei/Desktop/Figure_1.png)